(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{5511:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return c(72)}])},72:function(a,b,c){"use strict";c.r(b);var d=c(7568),e=c(4051),f=c.n(e),g=c(5893),h=c(7294),i=c(1163),j=function(a){var b,c,e=(b=(0,d.Z)(f().mark(function a(b){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:b.preventDefault(),z.push("/login");case 2:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)}),j=(0,h.useState)(""),k=j[0],l=j[1],m=(0,h.useState)(""),n=m[0],o=m[1],p=(0,h.useState)(""),q=p[0],r=p[1],s=(0,h.useState)(""),t=s[0],u=s[1],v=(0,h.useState)({}),w=v[0],x=v[1],y={message:"invalid credentials"},z=(0,i.useRouter)(),A=(c=(0,d.Z)(f().mark(function a(b){var c,e,g,h;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:var i;if(b.preventDefault(),!String(i=k).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)){a.next=15;break}if(n!==q){a.next=12;break}return c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Email:"".concat(k),Name:"".concat(t),Password:"".concat(n),DOB:"".concat(E.toLocaleDateString("en-GB"))})},e=fetch("https://kenkaneki124.pythonanywhere.com/forms/userSignup/",c),a.next=8,e.then(function(){var a=(0,d.Z)(f().mark(function a(b){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(401!=b.status){a.next=7;break}return a.next=3,b.json();case 3:return g=a.sent,a.abrupt("return",!1);case 7:return a.abrupt("return",!0);case 8:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}());case 8:!1==(h=a.sent)?x({name:"uname",message:g.message}):z.push("/login"),a.next=13;break;case 12:x({name:"uname",message:"Passwords Don't Match"});case 13:a.next=16;break;case 15:x({name:"uname",message:y.message});case 16:case"end":return a.stop()}},a)})),function(a){return c.apply(this,arguments)}),B=new Date;B.setDate(B.getDate()+3);var C,D=(0,h.useState)(B),E=D[0],F=D[1],G=function(a){F(new Date(a.target.value))};return(0,g.jsxs)("div",{className:"div",children:[(0,g.jsx)("h1",{children:"Register"}),(0,g.jsx)("br",{}),(0,g.jsxs)("form",{onSubmit:A,children:[(0,g.jsx)("p",{children:(0,g.jsx)("input",{className:"form__field",type:"text",id:"password",name:"name",placeholder:"Name",required:t,onChange:function(a){return u(a.target.value)}})}),(0,g.jsx)("p",{children:(0,g.jsx)("input",{className:"form__field",type:"text",id:"username",name:"email",placeholder:"Email",autoComplete:"off",required:k,onChange:function(a){return l(a.target.value)}})}),(0,g.jsx)("p",{children:(0,g.jsx)("input",{className:"form__field",type:"password",id:"password",name:"password",placeholder:"Password",required:n,onChange:function(a){return o(a.target.value)}})}),(0,g.jsx)("p",{children:(0,g.jsx)("input",{className:"form__field",type:"password",id:"password",name:"verifypassword",placeholder:"Confirm Password",required:q,onChange:function(a){return r(a.target.value)}})}),(0,g.jsx)("p",{children:(0,g.jsx)("input",{type:"date",required:E,value:E.toLocaleDateString("en-CA"),onChange:G})}),(0,g.jsx)("p",{children:(C="uname")===w.name&&(0,g.jsx)("div",{className:"error",children:w.message})}),(0,g.jsx)("p",{children:(0,g.jsx)("input",{className:"button",type:"submit",id:"login",value:"Register"})})]}),(0,g.jsx)("p",{children:(0,g.jsx)("input",{className:"button",type:"submit",onClick:e,id:"login",value:"Login"})})]})};b.default=j},1163:function(a,b,c){a.exports=c(387)},7568:function(a,b,c){"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}}c.d(b,{Z:function(){return e}})}},function(a){a.O(0,[774,888,179],function(){var b;return a(a.s=5511)}),_N_E=a.O()}])